{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/renewalList.tsx"],"sourcesContent":["import React from \"react\";\nimport { Card, List } from \"antd\";\n\nexport interface RenewalItem {\n  id: number;\n  name: string;\n  user: string;\n  daysLeft: number;\n  renewalDate: string;\n}\n\ninterface RenewalListProps {\n  title?: string;\n  data: RenewalItem[];\n}\n\nconst RenewalList: React.FC<RenewalListProps> = ({\n  title = \"Renewal in 30 Days\",\n  data,\n}) => {\n  return (\n    <Card title={title} className=\"mt-6\">\n      <List\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item>\n            <List.Item.Meta\n              title={item.name}\n              description={`Customer: ${item.user}`}\n            />\n            <div>{item.daysLeft} days left</div>\n          </List.Item>\n        )}\n      />\n    </Card>\n  );\n};\n\nexport default RenewalList;\n"],"names":[],"mappings":";;;;;AACA;AAAA;;;AAeA,MAAM,cAA0C,CAAC,EAC/C,QAAQ,oBAAoB,EAC5B,IAAI,EACL;IACC,qBACE,qKAAC,0MAAI;QAAC,OAAO;QAAO,WAAU;kBAC5B,cAAA,qKAAC,0MAAI;YACH,YAAY;YACZ,YAAY,CAAC,qBACX,qKAAC,0MAAI,CAAC,IAAI;;sCACR,qKAAC,0MAAI,CAAC,IAAI,CAAC,IAAI;4BACb,OAAO,KAAK,IAAI;4BAChB,aAAa,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE;;;;;;sCAEvC,qKAAC;;gCAAK,KAAK,QAAQ;gCAAC;;;;;;;;;;;;;;;;;;;;;;;AAMhC;uCAEe","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/pieChart.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport {\n  PieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  ResponsiveContainer,\n  PieLabelRenderProps,\n} from \"recharts\";\n\nexport type PieDatum = {\n  name: string;\n  value: number;\n};\n\ninterface PieChartWithCustomizedLabelProps {\n  data: PieDatum[];\n  width?: string | number;\n  height?: number; // ResponsiveContainer handles string widths but height should be a number\n}\n\nconst RADIAN = Math.PI / 180;\n\n// Correctly typed label renderer with safe checks\nconst renderCustomizedLabel = ({\n  cx,\n  cy,\n  midAngle,\n  innerRadius,\n  outerRadius,\n  percent,\n}: PieLabelRenderProps) => {\n  if (\n    typeof cx !== \"number\" ||\n    typeof cy !== \"number\" ||\n    typeof midAngle !== \"number\" ||\n    typeof innerRadius !== \"number\" ||\n    typeof outerRadius !== \"number\" ||\n    typeof percent !== \"number\"\n  ) {\n    return null;\n  }\n\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n\n  return (\n    <text\n      x={x}\n      y={y}\n      fill=\"white\"\n      textAnchor={x > cx ? \"start\" : \"end\"}\n      dominantBaseline=\"central\"\n      fontSize=\"0.9em\"\n    >\n      {`${(percent * 100).toFixed(0)}%`}\n    </text>\n  );\n};\n\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#A28DD0\"];\n\nexport default function PieChartWithCustomizedLabel({\n  data,\n  width = \"100%\",\n  height = 300,\n}: PieChartWithCustomizedLabelProps) {\n  return (\n    <ResponsiveContainer width={width} height={height}>\n      <PieChart>\n        <Pie\n          data={data}\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx=\"50%\"\n          cy=\"50%\"\n          outerRadius={Math.min(height / 2, 120)} // height is always number now\n          labelLine={false}\n          label={renderCustomizedLabel}\n        >\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n        <Tooltip />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAHA;;;AAuBA,MAAM,SAAS,KAAK,EAAE,GAAG;AAEzB,kDAAkD;AAClD,MAAM,wBAAwB,CAAC,EAC7B,EAAE,EACF,EAAE,EACF,QAAQ,EACR,WAAW,EACX,WAAW,EACX,OAAO,EACa;IACpB,IACE,OAAO,OAAO,YACd,OAAO,OAAO,YACd,OAAO,aAAa,YACpB,OAAO,gBAAgB,YACvB,OAAO,gBAAgB,YACvB,OAAO,YAAY,UACnB;QACA,OAAO;IACT;IAEA,MAAM,SAAS,cAAc,CAAC,cAAc,WAAW,IAAI;IAC3D,MAAM,IAAI,KAAK,SAAS,KAAK,GAAG,CAAC,CAAC,WAAW;IAC7C,MAAM,IAAI,KAAK,SAAS,KAAK,GAAG,CAAC,CAAC,WAAW;IAE7C,qBACE,qKAAC;QACC,GAAG;QACH,GAAG;QACH,MAAK;QACL,YAAY,IAAI,KAAK,UAAU;QAC/B,kBAAiB;QACjB,UAAS;kBAER,GAAG,CAAC,UAAU,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;;;;;;AAGvC;AAEA,MAAM,SAAS;IAAC;IAAW;IAAW;IAAW;IAAW;CAAU;AAEvD,SAAS,4BAA4B,EAClD,IAAI,EACJ,QAAQ,MAAM,EACd,SAAS,GAAG,EACqB;IACjC,qBACE,qKAAC,8MAAmB;QAAC,OAAO;QAAO,QAAQ;kBACzC,cAAA,qKAAC,oLAAQ;;8BACP,qKAAC,0KAAG;oBACF,MAAM;oBACN,SAAQ;oBACR,SAAQ;oBACR,IAAG;oBACH,IAAG;oBACH,aAAa,KAAK,GAAG,CAAC,SAAS,GAAG;oBAClC,WAAW;oBACX,OAAO;8BAEN,KAAK,GAAG,CAAC,CAAC,OAAO,sBAChB,qKAAC,gLAAI;4BAAuB,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;2BAApD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;8BAG9B,qKAAC,sLAAO;;;;;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/DrillDownBarChart.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n} from \"recharts\";\nimport { API_CONFIG, API_ENDPOINTS } from \"@/api/config\";\n\ntype DataPoint = { period: string; value: number };\n\nconst API_BASE = `${API_CONFIG.BASE_URL}${API_ENDPOINTS.GET_USER_CHART_DATA}`;\n\nconst DrillDownBarChart = () => {\n  const [level, setLevel] = useState<\"year\" | \"month\" | \"day\">(\"year\");\n  const [selectedYear, setSelectedYear] = useState<string | null>(null);\n  const [selectedMonth, setSelectedMonth] = useState<string | null>(null);\n\n  const [yearlyData, setYearlyData] = useState<DataPoint[]>([]);\n  const [monthlyData, setMonthlyData] = useState<DataPoint[]>([]);\n  const [dailyData, setDailyData] = useState<DataPoint[]>([]);\n\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (level !== \"year\") return;\n\n    const fetchYearly = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(\n          `${API_BASE}?action=signup_stats&group_by=year`\n        );\n        const result = await response.json();\n\n        if (result.status === \"success\") {\n          const data: DataPoint[] = result.data\n            .map((item: { year: string; signups: string | number }) => ({\n              period: item.year,\n              value: Number(item.signups),\n            }))\n            .sort(\n              (a: DataPoint, b: DataPoint) =>\n                parseInt(a.period) - parseInt(b.period)\n            );\n\n          setYearlyData(data);\n        } else {\n          setError(\"Failed to load yearly data\");\n        }\n      } catch (err) {\n        setError(\"Network error while fetching yearly data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchYearly();\n  }, [level]);\n\n  useEffect(() => {\n    if (level !== \"month\" || !selectedYear) return;\n\n    const fetchMonthly = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(\n          `${API_BASE}?action=signup_stats&group_by=month&year=${selectedYear}`\n        );\n        const result = await response.json();\n\n        if (result.status === \"success\") {\n          const monthNames = [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n          ];\n\n          const data: DataPoint[] = result.data\n            .map((item: { month: number; signups: string | number }) => ({\n              period: monthNames[item.month - 1],\n              value: Number(item.signups),\n            }))\n            .sort(\n              (a: DataPoint, b: DataPoint) =>\n                monthNames.indexOf(a.period) - monthNames.indexOf(b.period)\n            );\n\n          setMonthlyData(data);\n        } else {\n          setError(\"Failed to load monthly data\");\n        }\n      } catch (err) {\n        setError(\"Network error while fetching monthly data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMonthly();\n  }, [level, selectedYear]);\n\n  useEffect(() => {\n    if (level !== \"day\" || !selectedYear || !selectedMonth) return;\n\n    const fetchDaily = async () => {\n      setLoading(true);\n      setError(null);\n\n      const monthNames = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\",\n      ];\n      const monthNumber = monthNames.indexOf(selectedMonth) + 1;\n\n      try {\n        const response = await fetch(\n          `${API_BASE}?action=signup_stats&group_by=day&year=${selectedYear}&month=${monthNumber}`\n        );\n        const result = await response.json();\n\n        if (result.status === \"success\") {\n          const data: DataPoint[] = result.data\n            .map((item: { day: number; signups: string | number }) => ({\n              period: `${item.day}`,\n              value: Number(item.signups),\n            }))\n            .sort(\n              (a: DataPoint, b: DataPoint) =>\n                parseInt(a.period) - parseInt(b.period)\n            );\n\n          setDailyData(data);\n        } else {\n          setError(\"Failed to load daily data\");\n        }\n      } catch (err) {\n        setError(\"Network error while fetching daily data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDaily();\n  }, [level, selectedYear, selectedMonth]);\n\n  const chartData =\n    level === \"year\" ? yearlyData : level === \"month\" ? monthlyData : dailyData;\n\n  const handleBarClick = (data: any) => {\n    if (!data?.period) return;\n\n    if (level === \"year\") {\n      setSelectedYear(data.period);\n      setLevel(\"month\");\n      setMonthlyData([]);\n      setDailyData([]);\n    } else if (level === \"month\") {\n      setSelectedMonth(data.period);\n      setLevel(\"day\");\n      setDailyData([]);\n    }\n  };\n\n  const handleBack = () => {\n    if (level === \"day\") {\n      setLevel(\"month\");\n      setSelectedMonth(null);\n      setDailyData([]);\n    } else if (level === \"month\") {\n      setLevel(\"year\");\n      setSelectedYear(null);\n      setSelectedMonth(null);\n      setMonthlyData([]);\n      setDailyData([]);\n    }\n  };\n\n  const title =\n    level === \"year\"\n      ? \"Yearly Signups Overview\"\n      : level === \"month\"\n      ? `Monthly Breakdown – ${selectedYear}`\n      : `Daily Signups – ${selectedMonth} ${selectedYear}`;\n\n  return (\n    <div className=\"bg-white\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">{title}</h2>\n\n      {level !== \"year\" && (\n        <button\n          onClick={handleBack}\n          className=\"mb-6 px-5 py-2 rounded-full font-semibold text-white bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 shadow-md hover:shadow-lg transition-all duration-200\"\n        >\n          ← Back\n        </button>\n      )}\n\n      {loading && (\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-gray-500\">Loading data...</p>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-red-500\">{error}</p>\n        </div>\n      )}\n\n      {!loading && !error && chartData.length === 0 && (\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-gray-500\">No data available</p>\n        </div>\n      )}\n\n      {!loading && !error && chartData.length > 0 && (\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <BarChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n            <XAxis\n              dataKey=\"period\"\n              tick={{ fontSize: 12 }}\n              angle={level === \"day\" ? -45 : 0}\n              textAnchor={level === \"day\" ? \"end\" : \"middle\"}\n              height={level === \"day\" ? 80 : 60}\n            />\n            <YAxis tick={{ fontSize: 12 }} />\n            <Tooltip\n              formatter={(value: number) => [`${value} signups`, \"Signups\"]}\n              contentStyle={{ backgroundColor: \"#fff\", borderRadius: \"8px\" }}\n              labelFormatter={() => {\n                if (level === \"day\") {\n                  return `${selectedMonth} ${selectedYear}`;\n                }\n                return \"\";\n              }}\n            />\n            <Bar\n              dataKey=\"value\"\n              fill=\"#3b82f6\"\n              radius={[8, 8, 0, 0]}\n              cursor={level !== \"day\" ? \"pointer\" : \"default\"}\n              onClick={level !== \"day\" ? handleBarClick : undefined}\n            />\n          </BarChart>\n        </ResponsiveContainer>\n      )}\n    </div>\n  );\n};\n\nexport default DrillDownBarChart;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/utils/axios.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  timeout: 15000,\n});\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,wBAAwB;IAC7C,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;uCAEe","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/insuranceTypeHome.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Table, Button, Modal, Descriptions, Image, Select, Tag } from \"antd\";\nimport {\n  EyeOutlined,\n  NotificationOutlined,\n  MailOutlined,\n  MessageOutlined,\n  WhatsAppOutlined,\n} from \"@ant-design/icons\";\nimport toast from \"react-hot-toast\";\nimport { API_CONFIG, API_ENDPOINTS } from \"@/api/config\";\nimport api from \"@/utils/axios\";\nimport { ColumnsType } from \"antd/es/table\";\n\ninterface UpcomingExpiryPolicy {\n  id: string;\n  user_id: string;\n  client_name: string;\n  policy_no: string;\n  policy_end_date: string;\n  insurance_type: string;\n  insurance_company: string;\n  details: string;\n  sum_insured_amount: number;\n  premium_amount: number;\n  payment_cycle: string;\n  duration: number;\n  policy_start_date: string;\n  next_payment_date: string;\n  notes?: string;\n  company_logo?: string;\n  insurer_name?: string;\n  policy_name?: string;\n  type_of_business: string;\n  sum_currency: string;\n  sum_insured: number;\n  gross_premium: number;\n  insurance_category: string;\n  trip_duration: number;\n}\n\ninterface GetUpcomingExpiryPoliciesResponse {\n  status: string;\n  data?: UpcomingExpiryPolicy[];\n  message?: string;\n}\n\ninterface NotificationApiResponse {\n  success: boolean;\n  message?: string;\n}\n\ninterface EmailApiResponse {\n  status: string;\n  message?: string;\n}\n\ninterface UpcomingExpiriesProps {\n  showFilter?: boolean;\n  defaultFilter?: \"all\" | \"expiring\" | \"renewal\";\n}\n\nconst { Option } = Select;\n\nconst UpcomingExpiries: React.FC<UpcomingExpiriesProps> = ({\n  showFilter = false,\n  defaultFilter = \"all\",\n}) => {\n  const [allData, setAllData] = useState<UpcomingExpiryPolicy[]>([]);\n  const [data, setData] = useState<UpcomingExpiryPolicy[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedPolicy, setSelectedPolicy] =\n    useState<UpcomingExpiryPolicy | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [filterType, setFilterType] = useState<string>(defaultFilter);\n  const [loadingNotification, setLoadingNotification] = useState(false);\n  const [loadingEmail, setLoadingEmail] = useState(false);\n  const [loadingSMS, setLoadingSMS] = useState(false);\n  const [loadingWhatsApp, setLoadingWhatsApp] = useState(false);\n\n  const fetchUpcomingExpiries = async () => {\n    try {\n      setLoading(true);\n      const res = await api.get<GetUpcomingExpiryPoliciesResponse>(\n        `${API_CONFIG.BASE_URL}${API_ENDPOINTS.VIEW_UPCOMMING}`\n      );\n\n      if (res.data?.status === \"success\") {\n        setAllData(res.data.data || []);\n        setData(res.data.data || []);\n      } else {\n        toast.error(res.data?.message || \"Failed to fetch upcoming expiries\");\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Failed to fetch upcoming expiries\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Client-side filtering\n  useEffect(() => {\n    const today = new Date();\n    const next30Days = new Date();\n    next30Days.setDate(today.getDate() + 30);\n\n    if (filterType === \"all\") {\n      setData(allData);\n    } else if (filterType === \"expiring\") {\n      const filtered = allData.filter((item) => {\n        if (!item.policy_end_date) return false;\n        const expiryDate = new Date(item.policy_end_date);\n        return expiryDate >= today && expiryDate <= next30Days;\n      });\n      setData(filtered);\n    } else if (filterType === \"renewal\") {\n      const filtered = allData.filter((item) => {\n        if (!item.next_payment_date) return false;\n        const renewalDate = new Date(item.next_payment_date);\n        return renewalDate >= today && renewalDate <= next30Days;\n      });\n      setData(filtered);\n    }\n  }, [filterType, allData]);\n\n  useEffect(() => {\n    fetchUpcomingExpiries();\n  }, []);\n\n  const handleView = (record: UpcomingExpiryPolicy) => {\n    setSelectedPolicy(record);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedPolicy(null);\n    setIsModalOpen(false);\n  };\n\n  const handleSendNotification = async (\n    policy: UpcomingExpiryPolicy | null\n  ) => {\n    if (!policy) {\n      toast.error(\"No policy selected\");\n      return;\n    }\n\n    setLoadingNotification(true);\n    try {\n      const url = `${API_CONFIG.BASE_URL}${API_ENDPOINTS.NOTIFICATIONS_SEND}?user_id=${policy.user_id}`;\n\n      const res = await api.post<NotificationApiResponse>(url, {\n        title: \"Policy Expiry Reminder\",\n        body: `Hello ${policy.client_name}, your policy ${policy.policy_no} will expire on ${policy.policy_end_date}.`,\n      });\n\n      if (res.data.success) {\n        toast.success(res.data.message || \"Notification sent successfully!\");\n      } else {\n        toast.error(res.data.message || \"Failed to send notification\");\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error sending notification\");\n    } finally {\n      setLoadingNotification(false);\n    }\n  };\n\n  const handleSendEmail = async (policy: UpcomingExpiryPolicy | null) => {\n    if (!policy) {\n      toast.error(\"No policy selected\");\n      return;\n    }\n\n    setLoadingEmail(true);\n    try {\n      const url = `${API_CONFIG.BASE_URL}${API_ENDPOINTS.EMAIL_SEND}?user_id=${policy.user_id}&policy_id=${policy.id}`;\n\n      const res = await api.post<EmailApiResponse>(url, {\n        title: \"Policy Expiry Reminder\",\n        body: `Hello ${policy.client_name}, your policy ${policy.policy_no} will expire on ${policy.policy_end_date}.`,\n      });\n\n      if (res.data.status === \"success\") {\n        toast.success(\n          res.data.message || `Email sent to ${policy.client_name}`\n        );\n      } else {\n        toast.error(res.data.message || \"Failed to send email\");\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error sending email\");\n    } finally {\n      setLoadingEmail(false);\n    }\n  };\n\n  const handleSendSMS = async (policy: UpcomingExpiryPolicy | null) => {\n    if (!policy) {\n      toast.error(\"No policy selected\");\n      return;\n    }\n\n    setLoadingSMS(true);\n    try {\n      const url = `${API_CONFIG.BASE_URL}${API_ENDPOINTS.SMS_SEND}?user_id=${policy.user_id}&policy_id=${policy.id}`;\n      const res = await api.post<NotificationApiResponse>(url, {\n        body: `Hello ${policy.client_name}, your policy ${policy.policy_no} will expire on ${policy.policy_end_date}.`,\n      });\n\n      if (res.data.success) {\n        toast.success(res.data.message || `SMS sent to ${policy.client_name}`);\n      } else {\n        toast.error(res.data.message || \"Failed to send SMS\");\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error sending SMS\");\n    } finally {\n      setLoadingSMS(false);\n    }\n  };\n\n  const handleSendWhatsapp = async (policy: UpcomingExpiryPolicy | null) => {\n    if (!policy) {\n      toast.error(\"No policy selected\");\n      return;\n    }\n\n    setLoadingWhatsApp(true);\n    try {\n      const url = `${API_CONFIG.BASE_URL}${API_ENDPOINTS.WHATSAPP_SEND}?user_id=${policy.user_id}&policy_id=${policy.id}`;\n      const res = await api.post<NotificationApiResponse>(url, {\n        body: `Hello ${policy.client_name}, your policy ${policy.policy_no} will expire on ${policy.policy_end_date}.`,\n      });\n\n      if (res.data.success) {\n        toast.success(\n          res.data.message || `WhatsApp message sent to ${policy.client_name}`\n        );\n      } else {\n        toast.error(res.data.message || \"Failed to send WhatsApp message\");\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error(\"Error sending WhatsApp message\");\n    } finally {\n      setLoadingWhatsApp(false);\n    }\n  };\n\n  const columns: ColumnsType<UpcomingExpiryPolicy> = [\n    {\n      title: \"User\",\n      dataIndex: \"client_name\",\n      key: \"user\",\n      align: \"left\",\n    },\n    {\n      title: \"Policy\",\n      dataIndex: \"policy_no\",\n      key: \"policy\",\n      align: \"left\",\n    },\n    {\n      title: \"Expiry\",\n      dataIndex: \"policy_end_date\",\n      key: \"expiry\",\n      align: \"left\",\n      render: (date: string) => new Date(date).toLocaleDateString(),\n    },\n    {\n      title: \"Status\",\n      key: \"status\",\n      align: \"left\",\n      render: (_: unknown, record: UpcomingExpiryPolicy) => {\n        const today = new Date();\n        const expiryDate = new Date(record.policy_end_date);\n\n        if (expiryDate < today) return <Tag color=\"red\">Expired</Tag>;\n        if (\n          (expiryDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24) <=\n          30\n        )\n          return <Tag color=\"orange\">Expiring Soon</Tag>;\n        return <Tag color=\"green\">Active</Tag>;\n      },\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      align: \"right\",\n      render: (_: unknown, record: UpcomingExpiryPolicy) => (\n        <Button\n          type=\"primary\"\n          icon={<EyeOutlined />}\n          onClick={() => handleView(record)}\n        >\n          View\n        </Button>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-semibold\">Upcoming Expiries</h2>\n        {showFilter && (\n          <Select\n            value={filterType}\n            onChange={(val) => setFilterType(val)}\n            style={{ width: 200 }}\n            placeholder=\"Filter policies...\"\n          >\n            <Option value=\"all\">All Policies</Option>\n            <Option value=\"expiring\">Upcoming Expiring</Option>\n            <Option value=\"renewal\">Upcoming Renewal</Option>\n          </Select>\n        )}\n      </div>\n\n      <div className=\"overflow-auto\">\n        <Table\n          dataSource={data}\n          columns={columns}\n          rowKey={(record) => record.id}\n          loading={loading}\n          pagination={{ pageSize: 5 }}\n          locale={{ emptyText: \"No upcoming policies found\" }}\n        />\n      </div>\n\n      <Modal\n        title={`Policy Details - ${selectedPolicy?.policy_no}`}\n        open={isModalOpen}\n        onCancel={handleCloseModal}\n        footer={\n          <div style={{ display: \"flex\", justifyContent: \"center\", gap: 12 }}>\n            <Button\n              type=\"primary\"\n              icon={<NotificationOutlined />}\n              loading={loadingNotification}\n              onClick={() => handleSendNotification(selectedPolicy)}\n            >\n              Send Notification\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<MailOutlined />}\n              loading={loadingEmail}\n              onClick={() => handleSendEmail(selectedPolicy)}\n            >\n              Send Email\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<MessageOutlined />}\n              loading={loadingSMS}\n              onClick={() => handleSendSMS(selectedPolicy)}\n            >\n              Send SMS\n            </Button>\n            <Button\n              type=\"primary\"\n              icon={<WhatsAppOutlined />}\n              style={{\n                backgroundColor: \"#25D366\",\n                borderColor: \"#25D366\",\n                color: \"#fff\",\n              }}\n              loading={loadingWhatsApp}\n              onClick={() => handleSendWhatsapp(selectedPolicy)}\n            >\n              Send WhatsApp\n            </Button>\n          </div>\n        }\n        width={1024}\n      >\n        {selectedPolicy && (\n          <Descriptions bordered column={2}>\n            <Descriptions.Item label=\"Policy Holder\">\n              {selectedPolicy.client_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Policy Number\">\n              {selectedPolicy.policy_no}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Insurer Name\">\n              {selectedPolicy.insurer_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Policy Name\">\n              {selectedPolicy.policy_name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Type of Business\">\n              {selectedPolicy.type_of_business}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Sum Insured\">\n              {selectedPolicy.sum_currency}\n              &nbsp;\n              {selectedPolicy.sum_insured}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Premium Amount\">\n              {selectedPolicy.gross_premium}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Insurance Category\">\n              {selectedPolicy.insurance_category}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Duration (Years)\">\n              {selectedPolicy.trip_duration}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Start Date\">\n              {selectedPolicy.policy_start_date}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"End Date\">\n              {selectedPolicy.policy_end_date}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Next Payment Date\">\n              {selectedPolicy.next_payment_date}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"Notes\">\n              {selectedPolicy.notes || \"-\"}\n            </Descriptions.Item>\n            {selectedPolicy.company_logo && (\n              <Descriptions.Item label=\"Company Logo\">\n                <Image\n                  width={40}\n                  src={`${API_CONFIG.BASE_URL}/uploads/${selectedPolicy.company_logo}`}\n                  alt={selectedPolicy.insurance_company}\n                />\n              </Descriptions.Item>\n            )}\n          </Descriptions>\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default UpcomingExpiries;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/cards.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\ninterface SummaryCardProps {\n  icon: React.ReactNode;\n  title: string;\n  value: string | number;\n  color?: string;\n}\n\nconst Cards: React.FC<SummaryCardProps> = ({ icon, title, value, color }) => {\n  return (\n    <div\n      className=\"\n        group\n        relative\n        bg-white\n        rounded-2xl\n        p-6\n        shadow-sm\n        border\n        border-gray-100\n        hover:shadow-xl\n        hover:border-transparent\n        transition-all\n        duration-300\n        transform\n        hover:-translate-y-1\n        overflow-hidden\n      \"\n    >\n      {/* Decorative Background Blob */}\n      <div\n        className=\"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 rounded-full opacity-[0.08] transition-all duration-500 group-hover:scale-150\"\n        style={{ backgroundColor: color || \"#3b82f6\" }}\n      />\n\n      <div className=\"flex items-center justify-between relative z-10\">\n        <div className=\"flex flex-col\">\n          <p className=\"text-gray-500 text-xs font-bold uppercase tracking-wider mb-2\">\n            {title}\n          </p>\n          <h3 className=\"text-3xl font-bold text-gray-800 tracking-tight\">\n            {value}\n          </h3>\n        </div>\n\n        <div\n          className=\"\n            flex\n            items-center\n            justify-center\n            rounded-xl\n            w-14\n            h-14\n            shadow-inner\n            transition-transform\n            duration-300\n            group-hover:scale-110\n            group-hover:rotate-3\n          \"\n          style={{\n            backgroundColor: color ? `${color}15` : \"#f3f4f6\",\n            color: color || \"#6b7280\",\n          }}\n        >\n          <div className=\"text-2xl\">{icon}</div>\n        </div>\n      </div>\n\n      {/* Bottom accent line */}\n      <div\n        className=\"absolute bottom-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-500 ease-out\"\n        style={{ backgroundColor: color || \"#3b82f6\" }}\n      />\n    </div>\n  );\n};\n\nexport default Cards;\n"],"names":[],"mappings":";;;;;AAAA;;AAUA,MAAM,QAAoC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;IACtE,qBACE,qKAAC;QACC,WAAU;;0BAmBV,qKAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB,SAAS;gBAAU;;;;;;0BAG/C,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAE,WAAU;0CACV;;;;;;0CAEH,qKAAC;gCAAG,WAAU;0CACX;;;;;;;;;;;;kCAIL,qKAAC;wBACC,WAAU;wBAaV,OAAO;4BACL,iBAAiB,QAAQ,GAAG,MAAM,EAAE,CAAC,GAAG;4BACxC,OAAO,SAAS;wBAClB;kCAEA,cAAA,qKAAC;4BAAI,WAAU;sCAAY;;;;;;;;;;;;;;;;;0BAK/B,qKAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB,SAAS;gBAAU;;;;;;;;;;;;AAIrD;uCAEe","debugId":null}},
    {"offset": {"line": 1199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/policies/PoliciesComponents.tsx"],"sourcesContent":["// src/components/policies/PoliciesComponents.tsx\n\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Row, Col, Skeleton, message } from \"antd\";\nimport {\n  UserOutlined,\n  CheckCircleOutlined,\n  FileProtectOutlined,\n  CloseCircleOutlined,\n  ReloadOutlined,\n} from \"@ant-design/icons\";\nimport SummaryCard from \"@/components/home/cards\";\nimport { Policy } from \"@/api/types\";\nimport { API_CONFIG, API_ENDPOINTS } from \"@/api/config\";\n\ninterface GetPoliciesResponse {\n  status: \"success\" | \"error\";\n  data: Policy[];\n  count: number;\n  pending_count: number;\n  approved_count: number;\n  rejected_count: number; // consistent naming\n  total_records: number;\n  total_pages?: number;\n  current_page?: number;\n}\n\ninterface StatCard {\n  title: string;\n  value: string | number;\n  icon: React.ReactNode;\n  color: string;\n}\n\nconst PoliciesComponents: React.FC = () => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [stats, setStats] = useState<StatCard[]>([]);\n  const [policies, setPolicies] = useState<Policy[]>([]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n\n      const res = await axios.get<GetPoliciesResponse>(\n        `${API_CONFIG.BASE_URL}${API_ENDPOINTS.ADMIN_GET_USER_POLICIES}`,\n        {\n          params: {\n            is_verified: -1, // All policies (no filter) — backend param sahi naam se\n          },\n        }\n      );\n\n      if (res.data?.status === \"success\") {\n        const {\n          data = [],\n          pending_count = 0,\n          approved_count = 0,\n          rejected_count = 0,\n          total_records = 0,\n        } = res.data;\n\n        setPolicies(data);\n\n        setStats([\n          {\n            title: \"Pending Policies\",\n            value: pending_count,\n            icon: <UserOutlined style={{ fontSize: 24 }} />,\n            color: \"#f39c12\", // Orange for pending\n          },\n          {\n            title: \"Approved Policies\",\n            value: approved_count,\n            icon: <CheckCircleOutlined style={{ fontSize: 24 }} />,\n            color: \"#00de81\", // Green for approved\n          },\n          {\n            title: \"Rejected Policies\",\n            value: rejected_count,\n            icon: <CloseCircleOutlined style={{ fontSize: 24 }} />,\n            color: \"#ff4d4f\", // Red for rejected\n          },\n          {\n            title: \"Total Policies\",\n            value: total_records,\n            icon: <ReloadOutlined style={{ fontSize: 24 }} />,\n            color: \"#00de81\",\n          },\n        ]);\n      } else {\n        message.warning(\"Failed to fetch dashboard data.\");\n      }\n    } catch (err: any) {\n      console.error(\"Error fetching dashboard data:\", err);\n      message.error(\n        err?.response?.data?.message || \"Unable to load dashboard data.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  return (\n    <div className=\"space-y-8\">\n      <Row gutter={[16, 24]}>\n        {loading\n          ? Array.from({ length: 4 }).map((_, index) => (\n              <Col xs={24} sm={12} md={6} key={index}>\n                <Skeleton active paragraph={{ rows: 3 }} />\n              </Col>\n            ))\n          : stats.map((item, index) => (\n              <Col xs={24} sm={12} md={6} lg={6} key={index}>\n                <SummaryCard\n                  title={item.title}\n                  value={item.value}\n                  icon={item.icon}\n                  color={item.color}\n                />\n              </Col>\n            ))}\n      </Row>\n\n     \n    </div>\n  );\n};\n\nexport default PoliciesComponents;\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AAGjD;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAEA;;;;;AAdA;;;;;;;;AAmCA,MAAM,qBAA+B;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAU;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAa,EAAE;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAW,EAAE;IAErD,MAAM,qBAAqB;QACzB,IAAI;YACF,WAAW;YAEX,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CACzB,GAAG,sJAAU,CAAC,QAAQ,GAAG,yJAAa,CAAC,uBAAuB,EAAE,EAChE;gBACE,QAAQ;oBACN,aAAa,CAAC;gBAChB;YACF;YAGF,IAAI,IAAI,IAAI,EAAE,WAAW,WAAW;gBAClC,MAAM,EACJ,OAAO,EAAE,EACT,gBAAgB,CAAC,EACjB,iBAAiB,CAAC,EAClB,iBAAiB,CAAC,EAClB,gBAAgB,CAAC,EAClB,GAAG,IAAI,IAAI;gBAEZ,YAAY;gBAEZ,SAAS;oBACP;wBACE,OAAO;wBACP,OAAO;wBACP,oBAAM,qKAAC,sPAAY;4BAAC,OAAO;gCAAE,UAAU;4BAAG;;;;;;wBAC1C,OAAO;oBACT;oBACA;wBACE,OAAO;wBACP,OAAO;wBACP,oBAAM,qKAAC,2QAAmB;4BAAC,OAAO;gCAAE,UAAU;4BAAG;;;;;;wBACjD,OAAO;oBACT;oBACA;wBACE,OAAO;wBACP,OAAO;wBACP,oBAAM,qKAAC,2QAAmB;4BAAC,OAAO;gCAAE,UAAU;4BAAG;;;;;;wBACjD,OAAO;oBACT;oBACA;wBACE,OAAO;wBACP,OAAO;wBACP,oBAAM,qKAAC,4PAAc;4BAAC,OAAO;gCAAE,UAAU;4BAAG;;;;;;wBAC5C,OAAO;oBACT;iBACD;YACH,OAAO;gBACL,mNAAO,CAAC,OAAO,CAAC;YAClB;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,kCAAkC;YAChD,mNAAO,CAAC,KAAK,CACX,KAAK,UAAU,MAAM,WAAW;QAEpC,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC,uMAAG;YAAC,QAAQ;gBAAC;gBAAI;aAAG;sBAClB,UACG,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBAChC,qKAAC,uMAAG;oBAAC,IAAI;oBAAI,IAAI;oBAAI,IAAI;8BACvB,cAAA,qKAAC,sNAAQ;wBAAC,MAAM;wBAAC,WAAW;4BAAE,MAAM;wBAAE;;;;;;mBADP;;;;gEAInC,MAAM,GAAG,CAAC,CAAC,MAAM,sBACf,qKAAC,uMAAG;oBAAC,IAAI;oBAAI,IAAI;oBAAI,IAAI;oBAAG,IAAI;8BAC9B,cAAA,qKAAC,kKAAW;wBACV,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,KAAK;wBACjB,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;;;;;;mBALmB;;;;;;;;;;;;;;;AActD;uCAEe","debugId":null}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/components/home/data.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Drawer } from \"antd\";\r\nimport \"antd/dist/reset.css\";\r\n\r\nimport { API_CONFIG, API_ENDPOINTS } from \"@/api/config\";\r\n\r\ntype ReadCsvResponse = {\r\n  status: boolean;\r\n  sheet_id: string;\r\n  total_records: number;\r\n  inserted_records: number;\r\n  duplicate_count: number;\r\n  duplicate_policy_numbers: string[];\r\n};\r\n\r\ntype SyncCsvResponse = {\r\n  status: boolean;\r\n  insurers: {\r\n    inserted: string[];\r\n    existing: string[];\r\n    failed: string[];\r\n  };\r\n  users: {\r\n    inserted: string[];\r\n    existing: string[];\r\n    skipped: string[];\r\n    failed: string[];\r\n  };\r\n  policies: {\r\n    inserted: string[];\r\n    skipped: string[];\r\n    failed: string[];\r\n  };\r\n};\r\n\r\nconst DEFAULT_READ_DATA: ReadCsvResponse = {\r\n  status: false,\r\n  sheet_id: \"NA\",\r\n  total_records: 0,\r\n  inserted_records: 0,\r\n  duplicate_count: 0,\r\n  duplicate_policy_numbers: [],\r\n};\r\n\r\nconst DEFAULT_SYNC_DATA: SyncCsvResponse = {\r\n  status: false,\r\n  insurers: {\r\n    inserted: [],\r\n    existing: [],\r\n    failed: [],\r\n  },\r\n  users: {\r\n    inserted: [],\r\n    existing: [],\r\n    skipped: [],\r\n    failed: [],\r\n  },\r\n  policies: {\r\n    inserted: [],\r\n    skipped: [],\r\n    failed: [],\r\n  },\r\n};\r\n\r\nconst AdminCsvSync: React.FC = () => {\r\n  const [readResult, setReadResult] =\r\n    useState<ReadCsvResponse>(DEFAULT_READ_DATA);\r\n  const [syncResult, setSyncResult] =\r\n    useState<SyncCsvResponse>(DEFAULT_SYNC_DATA);\r\n  const [loadingRead, setLoadingRead] = useState(false);\r\n  const [loadingSync, setLoadingSync] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n\r\n  const readCsv = async () => {\r\n    setLoadingRead(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${API_CONFIG.BASE_URL}${API_ENDPOINTS.GET_read_csv}`\r\n      );\r\n      const data: ReadCsvResponse = await res.json();\r\n      setReadResult(data);\r\n    } catch {\r\n      setError(\"Failed to read CSV\");\r\n    } finally {\r\n      setLoadingRead(false);\r\n    }\r\n  };\r\n\r\n  const syncCsv = async () => {\r\n    setLoadingSync(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${API_CONFIG.BASE_URL}${API_ENDPOINTS.GET_sync_csv}`\r\n      );\r\n      const data: SyncCsvResponse = await res.json();\r\n      setSyncResult(data);\r\n    } catch {\r\n      setError(\"Failed to sync CSV\");\r\n    } finally {\r\n      setLoadingSync(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto p-6  bg-gradient-to-b from-gray-100 to-gray-50 rounded-xl shadow-lg\">\r\n      <div className=\"flex gap-4 mb-6\">\r\n        <button\r\n          onClick={readCsv}\r\n          disabled={loadingRead}\r\n          className=\"px-6 py-2 bg-blue-600 !text-[#fff] font-semibold rounded-lg shadow hover:bg-blue-700  transition\"\r\n        >\r\n          {loadingRead ? \"Reading...\" : \"Read CSV\"}\r\n        </button>\r\n\r\n        <button\r\n          onClick={syncCsv}\r\n          disabled={loadingSync}\r\n          className=\"px-6 py-2 bg-green-600 !text-white font-semibold rounded-lg shadow hover:bg-green-700 disabled:opacity-50 transition\"\r\n        >\r\n          {loadingSync ? \"Syncing...\" : \"Sync CSV\"}\r\n        </button>\r\n      </div>\r\n\r\n      {error && <p className=\"text-red-600 font-medium mb-4\">{error}</p>}\r\n\r\n      <div className=\"border-l-8 border-blue-500 p-4 rounded mb-6 bg-blue-50 shadow-sm hover:shadow-md transition\">\r\n        <h2 className=\"text-lg font-bold mb-3 text-blue-800\">\r\n          Read CSV Result\r\n        </h2>\r\n\r\n        <p>\r\n          Sheet ID: <b>{readResult.sheet_id}</b>\r\n        </p>\r\n        <p>\r\n          Total Records: <b>{readResult.total_records}</b>\r\n        </p>\r\n        <p>\r\n          Inserted Records: <b>{readResult.inserted_records}</b>\r\n        </p>\r\n        <p>\r\n          Duplicate Count: <b>{readResult.duplicate_count}</b>\r\n        </p>\r\n\r\n        {readResult.duplicate_count > 0 && (\r\n          <button\r\n            onClick={() => setShowDrawer(true)}\r\n            className=\"mt-3 px-4 py-1 bg-yellow-500 !text-white rounded-lg shadow hover:bg-yellow-600 transition\"\r\n          >\r\n            View Duplicate Policies\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"border-l-8 border-green-500 p-4 rounded bg-green-50 shadow-sm hover:shadow-md transition\">\r\n        <h2 className=\"text-lg font-bold mb-3 text-green-800\">\r\n          Sync CSV Result\r\n        </h2>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <ResultBlock\r\n            title=\"Insurers\"\r\n            data={syncResult.insurers}\r\n            color=\"green\"\r\n          />\r\n          <ResultBlock title=\"Users\" data={syncResult.users} color=\"teal\" />\r\n          <ResultBlock\r\n            title=\"Policies\"\r\n            data={syncResult.policies}\r\n            color=\"purple\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <Drawer\r\n        title=\"Duplicate Policy Numbers\"\r\n        placement=\"right\"\r\n        width={420}\r\n        open={showDrawer}\r\n        onClose={() => setShowDrawer(false)}\r\n        maskStyle={{\r\n          backdropFilter: \"blur(10px)\",\r\n          backgroundColor: \"rgba(0,0,0,0.25)\",\r\n        }}\r\n      >\r\n        {readResult.duplicate_policy_numbers.length ? (\r\n          <ol className=\"list-decimal list-inside space-y-2 text-red-600 font-medium\">\r\n            {readResult.duplicate_policy_numbers.map((policy) => (\r\n              <li key={policy}>{policy}</li>\r\n            ))}\r\n          </ol>\r\n        ) : (\r\n          <p className=\"text-gray-500\">No duplicate policies</p>\r\n        )}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ResultBlock = ({ title, data, color }: any) => {\r\n  const borderColor =\r\n    color === \"green\"\r\n      ? \"border-green-400\"\r\n      : color === \"teal\"\r\n      ? \"border-teal-400\"\r\n      : \"border-purple-400\";\r\n\r\n  const bgColor =\r\n    color === \"green\"\r\n      ? \"bg-green-50\"\r\n      : color === \"teal\"\r\n      ? \"bg-teal-50\"\r\n      : \"bg-purple-50\";\r\n\r\n  const textColor =\r\n    color === \"green\"\r\n      ? \"text-green-800\"\r\n      : color === \"teal\"\r\n      ? \"text-teal-800\"\r\n      : \"text-purple-800\";\r\n\r\n  return (\r\n    <div\r\n      className={`border-l-4 ${borderColor} p-3 rounded ${bgColor} shadow-sm hover:shadow-md transition`}\r\n    >\r\n      <h3 className={`font-semibold mb-2 ${textColor}`}>{title}</h3>\r\n      <p>Inserted: {data.inserted.length || 0}</p>\r\n      <p>Existing: {data.existing?.length || 0}</p>\r\n      <p>Skipped: {data.skipped?.length || 0}</p>\r\n      <p>Failed: {data.failed.length || 0}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCsvSync;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1748, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Downloads/One%20click/src/pages/dashboard/index.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Skeleton } from \"antd\";\nimport axios from \"axios\";\nimport { API_CONFIG, API_ENDPOINTS } from \"@/api/config\";\nimport {\n  FileProtectOutlined,\n  UserOutlined,\n  ReloadOutlined,\n  CalendarOutlined,\n} from \"@ant-design/icons\";\nimport SummaryCard from \"../../components/home/cards\";\nimport RenewalList from \"../../components/home/renewalList\";\nimport BiaxialBarChart from \"../../components/home/barCharts\";\nimport PieChartWithCustomizedLabel, {\n  PieDatum,\n} from \"../../components/home/pieChart\";\nimport SimpleAreaChart, {\n  SimpleAreaDatum,\n} from \"../../components/home/areaChart\";\nimport PolicyLineChart from \"../../components/home/PolicyLineChart\";\nimport DrillDownBarChart from \"../../components/home/DrillDownBarChart\";\nimport InsuranceTypes from \"../../components/home/insuranceTypeHome\";\nimport PolicyComponents from \"@/components/policies/PoliciesComponents\";\nimport BiaxialBarChartWithApi from \"@/components/home/barCharts\";\n// import BiaxialBarChartWithApi from \"../../components/home/barCharts\";\nimport { RenewalItem } from \"@/components/home/renewalList\";\nimport { useRouter } from \"next/router\";\nimport { authApi } from \"@/api/auth\";\nimport AdminCsvSync from \"@/components/home/data\";\ninterface DashboardSummary {\n  total_users: string;\n  total_insurances: string;\n  expiring_insurances: string;\n  renewal_insurance: string;\n}\n\ninterface GetDashboardSummaryResponse {\n  status: \"success\" | \"error\";\n  data: DashboardSummary;\n}\n\nconst Dashboard = () => {\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState<unknown[]>([]);\n  const [renewals, setRenewals] = useState<RenewalItem[]>([]);\n  const [mounted, setMounted] = useState(false);\n\n  const sampleData2: PieDatum[] = [\n    { name: \"Life Insurance\", value: 400 },\n    { name: \"Health Insurance\", value: 300 },\n    { name: \"Car Insurance\", value: 300 },\n    { name: \"Home Insurance\", value: 200 },\n  ];\n\n  const sampleAreaData: SimpleAreaDatum[] = [\n    { name: \"Page A\", uv: 4000, pv: 2400 },\n    { name: \"Page B\", uv: 3000, pv: 1398 },\n    { name: \"Page C\", uv: 2000, pv: 9800 },\n    { name: \"Page D\", uv: 2780, pv: 3908 },\n  ];\n\n  useEffect(() => {\n    setMounted(true);\n\n    if (!authApi.isAuthenticated()) {\n      router.replace(\"/login\");\n      return;\n    }\n    const fetchDashboardData = async () => {\n      try {\n        const res = await axios.get<GetDashboardSummaryResponse>(\n          `${API_CONFIG.BASE_URL}${API_ENDPOINTS.DASHBOARD_CARDS_DATA}`\n        );\n\n        if (res.data.status === \"success\") {\n          const d = res.data.data;\n          setStats([\n            {\n              title: \"Pending Policies\",\n              value: d.total_users,\n              icon: <UserOutlined />,\n              color: \"#1f2add\",\n            },\n            {\n              title: \"Total Insurances\",\n              value: d.total_insurances,\n              icon: <FileProtectOutlined />,\n              color: \"#00de81\",\n            },\n            {\n              title: \"Expiring Soon\",\n              value: d.expiring_insurances,\n              icon: <ReloadOutlined />,\n              color: \"#faad14\",\n            },\n            {\n              title: \"Renewal Soon\",\n              value: 14,\n              icon: <CalendarOutlined />,\n              color: \"#ff4d4f\",\n            },\n          ]);\n        }\n      } catch (err) {\n        console.error(\"Failed to load dashboard summary\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, [router]);\n\n  return (\n    <>\n      <div className=\"space-y-8\">\n        <PolicyComponents />\n        {/* <BiaxialBarChartWithApi /> */}\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-4 w-full\">\n          {/* <div className=\"bg-white shadow-md rounded-lg p-6 min-h-[400px]\">\n          <h1 className=\"text-lg font-semibold mb-4\">Policy Added Per Month</h1>\n          {loading ? (\n            <Skeleton active paragraph={{ rows: 6 }} />\n          ) : (\n            <BiaxialBarChart width=\"100%\" height={350} />\n          )}\n        </div> */}\n          <div className=\"bg-white shadow-md rounded-lg p-6 px-4 min-h-[400px]\">\n            <DrillDownBarChart />\n          </div>\n          {/* <div className=\"bg-white shadow-md rounded-lg p-6 px-4 min-h-[400px]\">\n          <PolicyLineChart />\n        </div> */}\n          <div className=\"bg-white shadow-md rounded-lg p-6 min-h-[400px]\">\n            <h1 className=\"text-lg font-semibold mb-4\">\n              Notifications by Channel\n            </h1>\n            {loading ? (\n              <Skeleton active paragraph={{ rows: 6 }} />\n            ) : (\n              <PieChartWithCustomizedLabel data={sampleData2} height={350} />\n            )}\n          </div>\n\n          {/* Area Chart & Table */}\n\n          <div className=\"bg-white shadow-md rounded-lg p-6 px-4 min-h-[400px]\">\n            <h1 className=\"text-lg font-semibold mb-4\">Excel Data</h1>\n            {loading ? <AdminCsvSync /> : <AdminCsvSync />}\n          </div>\n\n          {/* Insurance Table */}\n          <div className=\"bg-white shadow-md rounded-lg p-6 px-4 min-h-[400px]\">\n            {loading ? (\n              <Skeleton active paragraph={{ rows: 8 }} />\n            ) : (\n              <InsuranceTypes />\n            )}\n          </div>\n        </div>\n\n        {/* Renewal List */}\n        <div>\n          {loading ? (\n            <Skeleton active paragraph={{ rows: 6 }} />\n          ) : (\n            <RenewalList data={renewals} />\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AAEA;AAOA;AACA;AACA;AAIA;AACA;AACA;;;;;;;AA7BA;;;;;;;;;;;;;;;AA0CA,MAAM,YAAY;IAChB,MAAM,SAAS,IAAA,+JAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAY,EAAE;IAChD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAgB,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,cAA0B;QAC9B;YAAE,MAAM;YAAkB,OAAO;QAAI;QACrC;YAAE,MAAM;YAAoB,OAAO;QAAI;QACvC;YAAE,MAAM;YAAiB,OAAO;QAAI;QACpC;YAAE,MAAM;YAAkB,OAAO;QAAI;KACtC;IAED,MAAM,iBAAoC;QACxC;YAAE,MAAM;YAAU,IAAI;YAAM,IAAI;QAAK;QACrC;YAAE,MAAM;YAAU,IAAI;YAAM,IAAI;QAAK;QACrC;YAAE,MAAM;YAAU,IAAI;YAAM,IAAI;QAAK;QACrC;YAAE,MAAM;YAAU,IAAI;YAAM,IAAI;QAAK;KACtC;IAED,IAAA,gHAAS,EAAC;QACR,WAAW;QAEX,IAAI,CAAC,iJAAO,CAAC,eAAe,IAAI;YAC9B,OAAO,OAAO,CAAC;YACf;QACF;QACA,MAAM,qBAAqB;YACzB,IAAI;gBACF,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CACzB,GAAG,sJAAU,CAAC,QAAQ,GAAG,yJAAa,CAAC,oBAAoB,EAAE;gBAG/D,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;oBACjC,MAAM,IAAI,IAAI,IAAI,CAAC,IAAI;oBACvB,SAAS;wBACP;4BACE,OAAO;4BACP,OAAO,EAAE,WAAW;4BACpB,oBAAM,qKAAC,sPAAY;;;;;4BACnB,OAAO;wBACT;wBACA;4BACE,OAAO;4BACP,OAAO,EAAE,gBAAgB;4BACzB,oBAAM,qKAAC,2QAAmB;;;;;4BAC1B,OAAO;wBACT;wBACA;4BACE,OAAO;4BACP,OAAO,EAAE,mBAAmB;4BAC5B,oBAAM,qKAAC,4PAAc;;;;;4BACrB,OAAO;wBACT;wBACA;4BACE,OAAO;4BACP,OAAO;4BACP,oBAAM,qKAAC,kQAAgB;;;;;4BACvB,OAAO;wBACT;qBACD;gBACH;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,oCAAoC;YACpD,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,qBACE;kBACE,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC,mLAAgB;;;;;8BAEjB,qKAAC;oBAAI,WAAU;;sCASb,qKAAC;4BAAI,WAAU;sCACb,cAAA,qKAAC,8KAAiB;;;;;;;;;;sCAKpB,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAA6B;;;;;;gCAG1C,wBACC,qKAAC,sNAAQ;oCAAC,MAAM;oCAAC,WAAW;wCAAE,MAAM;oCAAE;;;;;6FAEtC,qKAAC,qKAA2B;oCAAC,MAAM;oCAAa,QAAQ;;;;;;;;;;;;sCAM5D,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAA6B;;;;;;gCAC1C,wBAAU,qKAAC,iKAAY;;;;6FAAM,qKAAC,iKAAY;;;;;;;;;;;sCAI7C,qKAAC;4BAAI,WAAU;sCACZ,wBACC,qKAAC,sNAAQ;gCAAC,MAAM;gCAAC,WAAW;oCAAE,MAAM;gCAAE;;;;;yFAEtC,qKAAC,8KAAc;;;;;;;;;;;;;;;;8BAMrB,qKAAC;8BACE,wBACC,qKAAC,sNAAQ;wBAAC,MAAM;wBAAC,WAAW;4BAAE,MAAM;wBAAE;;;;;iFAEtC,qKAAC,wKAAW;wBAAC,MAAM;;;;;;;;;;;;;;;;;;AAM/B;uCAEe","debugId":null}}]
}